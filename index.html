<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="utf-8">
  <title>YouTube Không Quảng Cáo – Embed Proxy 2025 (Có Tiếng Mượt)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body {margin:0;background:#000;color:#fff;font-family:system-ui;padding:15px;}
    input {width:100%;padding:18px;font-size:18px;border:none;border-radius:12px;background:#222;color:#fff;margin:15px 0;}
    #info {background:#111;padding:20px;border-radius:12px;}
    #player {width:100%;height:60vh;border-radius:12px;background:#000;border:none;}
    img {width:100%;border-radius:12px;margin-top:15px;}
    h1 {text-align:center;color:#ff6b6b;}
    #loading {text-align:center;color:#aaa;}
  </style>
</head>
<body>
  <h1>YouTube Không Quảng Cáo (Proxy Embed)</h1>
  <input type="text" id="url" placeholder="Dán link YouTube rồi Enter..." autofocus>
  <div id="info"><div id="loading">Dán link là xem ngay, có tiếng luôn! (Proxy web free không ads)</div></div>
  <iframe id="player" allowfullscreen allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"></iframe>

  <script>
    const input = document.getElementById("url");
    const info = document.getElementById("info");
    const player = document.getElementById("player");

    input.addEventListener("change", () => {
      let url = input.value.trim();
      if (!url) return;

      const match = url.match(/(?:v=|\/embed\/|\/shorts\/|youtu\.be\/|youtube\.com\/watch\?v=)([a-zA-Z0-9_-]{11})/);
      if (!match) return info.innerHTML = "<p style='color:#ff5555'>Link sai rồi bro!</p>";

      const id = match[1];
      info.innerHTML = "<p id='loading'>Đang tải video + tiếng… (2–3 giây)</p>";

      // Proxy embed siêu bền 2025: YouTubeUnblocked (free, no ads, có tiếng, no CORS)
      // Fallback: GenMirror nếu cái đầu lag (cũng free, SSL secure)
      const proxyUrls = [
        `https://www.youtubeunblocked.live/embed/${id}`,  // Proxy 1: Nhanh, giống YouTube thật
        `https://www.genmirror.com/embed/${id}`  // Proxy 2: Backup, no ads, bandwidth tiết kiệm
      ];

      let currentIndex = 0;
      function loadProxy() {
        const proxyUrl = proxyUrls[currentIndex];
        player.src = proxyUrl;
        info.innerHTML += `<p>Xem qua proxy: <a href="${proxyUrl}" target="_blank" style="color:#4a90e2;">Mở tab mới nếu lag</a></p>`;
      }

      loadProxy();  // Load proxy đầu tiên

      // Nếu player load fail (hiếm), thử proxy thứ 2 sau 5s
      player.addEventListener("error", () => {
        if (currentIndex < proxyUrls.length - 1) {
          currentIndex++;
          info.innerHTML = "<p style='color:yellow'>Proxy 1 lag, thử proxy 2...</p>";
          loadProxy();
        } else {
          info.innerHTML = "<p style='color:#ff5555'>Proxy lag tạm thời, thử lại sau 1 phút nha!</p>";
        }
      });
    });
  </script>
</body>
</html>
